<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linkgy≈±jt≈ë Hub</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', sans-serif;
      background: #0f0d09;
      color: #e8dcc8;
      min-height: 100vh;
    }

    /* --- HEADER --- */
    .header { position: relative; }

    .logo {
      position: absolute; left: 16px; top: 16px; z-index: 10;
      width: 48px; height: 48px; border-radius: 10px;
      border: 1px solid #2a2520; object-fit: cover;
      box-shadow: 0 4px 12px rgba(0,0,0,.5);
    }

    .edit-btn {
      position: absolute; right: 16px; top: 16px; z-index: 10;
      background: #1e1b16; color: #e8dcc8; border: 1px solid #2a2520;
      padding: 8px 16px; border-radius: 8px; cursor: pointer;
      font-size: 14px; font-weight: 600;
      transition: background .2s;
    }
    .edit-btn:hover { background: #2a2520; }
    .edit-btn.active { background: #c0392b; border-color: #c0392b; }

    .banner-wrap {
      width: 100%; height: 220px; overflow: hidden; position: relative;
    }
    .banner-wrap img {
      width: 100%; height: 100%; object-fit: cover;
    }
    .banner-gradient {
      position: absolute; inset: 0;
      background: linear-gradient(to bottom, transparent 50%, #0f0d09);
    }

    .site-info {
      text-align: center; padding: 24px 16px 8px; max-width: 700px; margin: 0 auto;
    }
    .site-info h1 {
      font-size: 2rem; font-weight: 700; color: #e8dcc8;
    }
    .site-info p {
      margin-top: 8px; color: #7a7060; font-size: 15px;
    }

    /* --- EDIT INPUTS --- */
    .edit-input {
      width: 100%; padding: 8px 12px; border-radius: 8px;
      border: 1px solid #2a2520; background: #1a1710;
      color: #e8dcc8; font-size: 13px; margin-top: 8px;
      font-family: inherit;
    }
    .edit-input:focus { outline: none; border-color: #5dade2; }

    .edit-row { max-width: 700px; margin: 0 auto; padding: 0 16px; }

    /* --- MAIN --- */
    main { max-width: 700px; margin: 0 auto; padding: 16px 16px 64px; }

    /* --- CATEGORY --- */
    .category { margin-bottom: 32px; }

    .cat-header {
      display: flex; align-items: center; gap: 8px;
      cursor: pointer; margin-bottom: 12px; user-select: none;
    }
    .cat-header h2 {
      font-size: 1.2rem; font-weight: 700; color: #e8dcc8;
    }
    .cat-header .count {
      font-size: 13px; color: #7a7060;
    }
    .cat-arrow {
      width: 20px; height: 20px; fill: none; stroke: #5dade2;
      stroke-width: 2; transition: transform .2s;
    }
    .cat-header.closed .cat-arrow { transform: rotate(-90deg); }

    .cat-delete {
      margin-left: auto; background: none; border: none;
      color: #c0392b; cursor: pointer; font-size: 18px; padding: 4px 8px;
    }

    /* --- LINK GRID --- */
    .link-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 12px; margin-bottom: 12px;
    }

    .link-card {
      background: #1a1710; border: 1px solid #2a2520; border-radius: 12px;
      padding: 16px; text-decoration: none; color: inherit;
      transition: transform .2s, box-shadow .2s, border-color .2s;
      display: flex; align-items: flex-start; gap: 12px;
      position: relative;
    }
    .link-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(93,173,226,.15);
      border-color: rgba(93,173,226,.3);
    }

    .link-icon {
      width: 40px; height: 40px; border-radius: 8px;
      background: rgba(93,173,226,.15); color: #5dade2;
      display: flex; align-items: center; justify-content: center;
      font-size: 18px; font-weight: 700; flex-shrink: 0;
    }

    .link-card h3 { font-size: 15px; font-weight: 600; color: #e8dcc8; }
    .link-card p { font-size: 13px; color: #7a7060; margin-top: 4px; }

    .card-delete {
      position: absolute; top: -8px; right: -8px;
      background: #c0392b; color: #fff; border: none;
      width: 22px; height: 22px; border-radius: 50%;
      cursor: pointer; font-size: 14px; display: none;
      align-items: center; justify-content: center;
    }
    .link-card:hover .card-delete.visible { display: flex; }

    /* --- ADD LINK FORM --- */
    .add-link-btn {
      width: 100%; padding: 12px; border: 2px dashed rgba(93,173,226,.3);
      border-radius: 12px; background: none; color: #5dade2;
      cursor: pointer; font-size: 14px; font-weight: 600;
      transition: background .2s;
    }
    .add-link-btn:hover { background: rgba(93,173,226,.08); }

    .add-form {
      border: 1px solid rgba(93,173,226,.3); border-radius: 12px;
      padding: 12px; background: rgba(93,173,226,.05);
    }
    .add-form .edit-input { margin-top: 8px; }
    .add-form .form-btns { display: flex; gap: 8px; margin-top: 10px; }

    .btn {
      padding: 8px 16px; border-radius: 8px; border: none;
      font-size: 13px; font-weight: 600; cursor: pointer;
      transition: opacity .2s;
    }
    .btn-primary { background: #5dade2; color: #0f0d09; }
    .btn-ghost { background: none; color: #7a7060; }
    .btn:hover { opacity: .85; }

    /* --- ADD CATEGORY --- */
    .add-cat-row {
      display: flex; gap: 8px; margin-top: 16px;
    }

    .hidden { display: none !important; }

    .empty-msg {
      text-align: center; color: #7a7060; padding: 48px 0;
    }

    @media (max-width: 500px) {
      .link-grid { grid-template-columns: 1fr; }
      .banner-wrap { height: 160px; }
      .site-info h1 { font-size: 1.5rem; }
    }
  </style>
</head>
<body>

<div class="header">
  <img class="logo" id="logo" src="https://via.placeholder.com/48x48/1a1a1a/5dade2?text=L" alt="Logo" />
  <button class="edit-btn" id="editBtn" onclick="toggleEdit()">‚úèÔ∏è Szerkeszt√©s</button>

  <div class="banner-wrap">
    <img id="banner" src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=1200&h=400&fit=crop" alt="Banner" />
    <div class="banner-gradient"></div>
  </div>

  <div class="edit-row edit-only hidden">
    <input class="edit-input" id="logoUrlInput" placeholder="Log√≥ k√©p URL" oninput="updateLogo()" />
    <input class="edit-input" id="bannerUrlInput" placeholder="Banner k√©p URL" oninput="updateBanner()" />
  </div>

  <div class="site-info">
    <h1 id="siteName">Linkgy≈±jt≈ë Hub</h1>
    <p id="siteDesc">Minden fontos weboldalad egy helyen, kateg√≥ri√°kba rendezve.</p>
    <div class="edit-only hidden" style="margin-top:8px">
      <input class="edit-input" id="siteNameInput" placeholder="Oldal neve" oninput="updateSiteInfo()" />
      <input class="edit-input" id="siteDescInput" placeholder="Oldal le√≠r√°sa" oninput="updateSiteInfo()" />
    </div>
  </div>
</div>

<main id="main"></main>

<script>
const STORAGE_KEY = 'link-hub-data';
const ICONS = { github:'‚å®Ô∏è', code:'üíª', 'book-open':'üìñ', globe:'üåê', link:'üîó', star:'‚≠ê', heart:'‚ù§Ô∏è', music:'üéµ', video:'üé¨', image:'üñºÔ∏è', mail:'‚úâÔ∏è', shop:'üõí', game:'üéÆ', news:'üì∞' };

let editing = false;
let data = load();

function load() {
  try {
    const s = localStorage.getItem(STORAGE_KEY);
    if (s) return JSON.parse(s);
  } catch {}
  return {
    logoUrl: 'https://via.placeholder.com/48x48/1a1a1a/5dade2?text=L',
    bannerUrl: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=1200&h=400&fit=crop',
    siteName: 'Linkgy≈±jt≈ë Hub',
    siteDescription: 'Minden fontos weboldalad egy helyen, kateg√≥ri√°kba rendezve.',
    categories: [
      { id:'1', name:'Tech', links:[
        { id:'1a', title:'GitHub', description:'K√≥dt√°rak √©s projektek', url:'https://github.com', icon:'github' },
        { id:'1b', title:'Stack Overflow', description:'Fejleszt≈ëi k√©rd√©sek √©s v√°laszok', url:'https://stackoverflow.com', icon:'code' }
      ]},
      { id:'2', name:'Blog', links:[
        { id:'2a', title:'Medium', description:'Cikkek √©s t√∂rt√©netek', url:'https://medium.com', icon:'book-open' }
      ]}
    ]
  };
}

function save() { localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); }
function uid() { return Math.random().toString(36).substr(2,8); }

function toggleEdit() {
  editing = !editing;
  const btn = document.getElementById('editBtn');
  btn.textContent = editing ? '‚úñ K√©sz' : '‚úèÔ∏è Szerkeszt√©s';
  btn.classList.toggle('active', editing);
  document.querySelectorAll('.edit-only').forEach(el => el.classList.toggle('hidden', !editing));
  if (editing) {
    document.getElementById('logoUrlInput').value = data.logoUrl;
    document.getElementById('bannerUrlInput').value = data.bannerUrl;
    document.getElementById('siteNameInput').value = data.siteName;
    document.getElementById('siteDescInput').value = data.siteDescription;
  }
  render();
}

function updateLogo() { data.logoUrl = document.getElementById('logoUrlInput').value; document.getElementById('logo').src = data.logoUrl; save(); }
function updateBanner() { data.bannerUrl = document.getElementById('bannerUrlInput').value; document.getElementById('banner').src = data.bannerUrl; save(); }
function updateSiteInfo() {
  data.siteName = document.getElementById('siteNameInput').value;
  data.siteDescription = document.getElementById('siteDescInput').value;
  document.getElementById('siteName').textContent = data.siteName;
  document.getElementById('siteDesc').textContent = data.siteDescription;
  save();
}

function toggleCategory(id) {
  const el = document.getElementById('cat-'+id);
  const hdr = document.getElementById('hdr-'+id);
  el.classList.toggle('hidden');
  hdr.classList.toggle('closed');
}

function removeCategory(id) {
  data.categories = data.categories.filter(c => c.id !== id);
  save(); render();
}

function removeLink(catId, linkId) {
  const cat = data.categories.find(c => c.id === catId);
  if (cat) cat.links = cat.links.filter(l => l.id !== linkId);
  save(); render();
}

function showAddForm(catId) {
  document.getElementById('addbtn-'+catId).classList.add('hidden');
  document.getElementById('addform-'+catId).classList.remove('hidden');
}

function hideAddForm(catId) {
  document.getElementById('addform-'+catId).classList.add('hidden');
  document.getElementById('addbtn-'+catId).classList.remove('hidden');
}

function addLink(catId) {
  const t = document.getElementById('lt-'+catId).value.trim();
  const u = document.getElementById('lu-'+catId).value.trim();
  const d = document.getElementById('ld-'+catId).value.trim();
  const i = document.getElementById('li-'+catId).value.trim() || 'link';
  if (!t || !u) return;
  const cat = data.categories.find(c => c.id === catId);
  if (cat) { cat.links.push({ id:uid(), title:t, description:d, url:u, icon:i }); save(); render(); }
}

function addCategory() {
  const inp = document.getElementById('newCatInput');
  const name = inp.value.trim();
  if (!name) return;
  data.categories.push({ id:uid(), name, links:[] });
  inp.value = '';
  save(); render();
}

function render() {
  const main = document.getElementById('main');
  let html = '';

  data.categories.forEach(cat => {
    const icon = ICONS[cat.icon] || '';
    html += `<div class="category">
      <div class="cat-header" id="hdr-${cat.id}" onclick="toggleCategory('${cat.id}')">
        <svg class="cat-arrow" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"/></svg>
        <h2>${esc(cat.name)}</h2>
        <span class="count">(${cat.links.length})</span>
        ${editing ? `<button class="cat-delete" onclick="event.stopPropagation();removeCategory('${cat.id}')">üóëÔ∏è</button>` : ''}
      </div>
      <div id="cat-${cat.id}">
        <div class="link-grid">`;

    cat.links.forEach(link => {
      const ic = ICONS[link.icon] || ICONS.link;
      html += `<a class="link-card" href="${esc(link.url)}" target="_blank" rel="noopener">
        ${editing ? `<button class="card-delete visible" onclick="event.preventDefault();event.stopPropagation();removeLink('${cat.id}','${link.id}')">‚úï</button>` : ''}
        <div class="link-icon">${ic}</div>
        <div>
          <h3>${esc(link.title)}</h3>
          <p>${esc(link.description)}</p>
        </div>
      </a>`;
    });

    html += `</div>`;

    if (editing) {
      html += `<button class="add-link-btn" id="addbtn-${cat.id}" onclick="showAddForm('${cat.id}')">Ôºã √öj link hozz√°ad√°sa</button>
      <div class="add-form hidden" id="addform-${cat.id}">
        <input class="edit-input" id="lt-${cat.id}" placeholder="C√≠m" />
        <input class="edit-input" id="ld-${cat.id}" placeholder="Le√≠r√°s" />
        <input class="edit-input" id="lu-${cat.id}" placeholder="URL (https://...)" />
        <input class="edit-input" id="li-${cat.id}" placeholder="Ikon (github, globe, code, star, heart, music...)" />
        <div class="form-btns">
          <button class="btn btn-primary" onclick="addLink('${cat.id}')">Hozz√°ad√°s</button>
          <button class="btn btn-ghost" onclick="hideAddForm('${cat.id}')">M√©gse</button>
        </div>
      </div>`;
    }

    html += `</div></div>`;
  });

  if (editing) {
    html += `<div class="add-cat-row">
      <input class="edit-input" id="newCatInput" placeholder="√öj kateg√≥ria neve..." onkeydown="if(event.key==='Enter')addCategory()" />
      <button class="btn btn-primary" onclick="addCategory()">Ôºã Hozz√°ad√°s</button>
    </div>`;
  }

  if (data.categories.length === 0 && !editing) {
    html += `<p class="empty-msg">M√©g nincsenek kateg√≥ri√°k. Kattints a ‚ÄûSzerkeszt√©s" gombra!</p>`;
  }

  main.innerHTML = html;
}

function esc(s) { const d = document.createElement('div'); d.textContent = s; return d.innerHTML; }

render();
</script>

</body>
</html>

